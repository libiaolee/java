<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>首页</title>


</head>
<style type="text/css">
    .Box .BoxButtons {
        border-top: 0px solid #FFF;
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
        line-height: 30px;
        overflow: hidden;
        padding: 21px 26px;
        vertical-align: right;
        filter: alpha(Opacity=80);
    }

    h1{
        text-align: center;
    }
    table{
        margin: 0 auto;
    }
    body{
        font-size: larger;color: rgba(27, 20, 220, 0.61);
        background-color: #F0F8FF;
        background-repeat: no-repeat;
        background-size: 100%;
    }
    table th,table td{

    }
</style>
<body >
<h1>Air Jordan 系列 限量抢购</h1>
<table border="1" >
    <form action="订单完成界面.html" method="post">
    <tr>

        <th>在售商品</th>
        <th> 官方售价 </th>
        <th>款式/配色</th>
        <th>添加到购物车</th>h

    </tr>
    <tr>
        <td>Air Jordan 1 芝加哥<p ><img src="aj1%20芝加哥.jpg"  cellpadding="0" border="0" align="center" width="150" height="100">
        </p></td>
        <td >1299</td>
        <td>战斗红/白色</td>
        <td align="center">
            <input type="button" value="添加到购物车" onclick="add_shoppingcar(this)"/>
        </td>
    </tr>
    <tr>
        <td>Air Jordan 5 流川枫<p ><img src="aj5%20流川枫.jpg"  cellpadding="0" border="0" align="center" width="150" height="100">
        </p></td>
        <td  >1399</td>
        <td>白色/火焰红</td>
        <td align="center">
            <input type="button" value="添加到购物车" onclick="add_shoppingcar(this)"/>
        </td>
    </tr>
    <tr>
        <td>Air Jordan 1 黑曜石<p ><img src="aj1%20黑曜石.jpg"  cellpadding="0" border="0" align="center" width="150" height="100">
        </p></td>
        <td >1299</td>
        <td>曜石黑/宝蓝</td>
        <td align="center">
            <input type="button" value="添加到购物车" onclick="add_shoppingcar(this)"/>
        </td>
    </tr>
    <tr>
        <td>Air Jordan 1 low ts<p ><img src="aj1%20low%20ts.jpg"  cellpadding="0" border="0" align="center" width="150" height="100">
        </p></td>
        <td  >849</td>
        <td>黑色/驯鹿灰</td>
        <td align="center">
            <input type="button" value="添加到购物车" onclick="add_shoppingcar(this)"/>

        </td>
    </tr>
</table>
<h1> 确认您的订单</h1>
<table border="1">
    <thead>
    <tr>
        <th>商品</th>
        <th >单价</th>
        <th>数量</th>
        <th>金额</th>
        <th>删除</th>
    </tr>
    </thead>
    <tbody id="goods">

    </tbody>
    <tfoot>
    <tr>
        <td colspan="3" align="center" >合计(不含运费)</td>
        <td id="total"></td>
        <td>元</td>
    </tr>
    </tfoot>
</table>
<center><button input type="submit" value="立即付款" class="loginBtn">立即付款</center>
</form >
</body>

<script type="text/javascript">
    //this js中指当前对象
    function add_shoppingcar(btn){
        var tr=btn.parentNode.parentNode;
        var tds=tr.getElementsByTagName("td");
        var name=tds[0].innerHTML;
        var price=tds[1].innerHTML;
        var tbody=document.getElementById("goods");
        var row=tbody.insertRow();//insertRow表格开头插入新行
        row.innerHTML="<td>"+name+"</td>"+
            "<td>"+price+"</td>"+
            "<td align='center'>"+
            "<input type='button' value='-' id='jian'  onclick='change(this,-1)'  />"+
            "<input id='text' type='text' size='1' value='1' readonly='readonly' />"+
            "<input type='button' value='+' id='add'  onclick='change(this,1)'  />"+
            "</td>"+
            "<td>"+price+"</td>"+
            "<td align='center'>"+
            "<input type='button' value='X' onclick='del(this)'/>"+
            "</td>"+
            "</tr>"
        total();
    }
    //增加减少数量，用n正负1来表示点击了加减按钮
    function change(btn,n){
        //获取数量的三个input对象
        var inputs = btn.parentNode.getElementsByTagName("input");
        //获取原来的数量
        var amount = parseInt(inputs[1].value);
        //当amount=1时不能再点击"-"符号
        //用n<0来表示点击了减button
        if(amount<=1 && n<0){
            return;
        }
        //根据加减来改变数量
        inputs[1].value = amount + n;
        //将改变后的数量值赋值给amount
        amount = inputs[1].value;
        //获取表格中的行
        var tr = btn.parentNode.parentNode;
        //获取所有的列
        var tds = tr.getElementsByTagName("td");
        //获取单价
        var price = parseFloat(tds[1].innerHTML);
        //总价=单价*数量
        var m = price * amount;
        //将总价赋值给相应的位置
        tds[3].innerHTML = m;
        //调用total方法，求总计
        total();
    }


    function total(){
        var tbody=document.getElementById("goods");
        var trs=tbody.getElementsByTagName("tr");
        var sum=0;
        for(var i=0;i<trs.length;i++){
            var tds=trs[i].getElementsByTagName("td");
            var m=tds[3].innerHTML;
            sum += parseFloat(m);
        }
        var total=document.getElementById("total");
        total.innerHTML = sum;
    }
    function del(i){
        var tr=i.parentNode.parentNode;
        tr.parentNode.removeChild(tr);
        //tr.remove(tr);
        total();
    }
</script>

</html>
